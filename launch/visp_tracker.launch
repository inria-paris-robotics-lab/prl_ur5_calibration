<?xml version="1.0"?>
<launch>
  <param name="model_description" textfile="$(find prl_ur5_calibration)/models/pattern_QR/pattern_QR.wrl"/>


  <include file="$(find aruco_detect)/launch/aruco_detect.launch">
    <arg name="camera" value="left_camera/color"/>
    <arg name="image" value="image_rect_color"/>
    <arg name="dictionary" value="0"/>
    <arg name="fiducial_len" value="0.12"/>
  </include>

  <node pkg="visp_tracker" type="tracker" name="tracker_mbt">
    <param name="camera_prefix" value="/left_camera/color" />
    <param name="debug_display" value="True" />

    <remap from="/left_camera/color/image_rect" to="/left_camera/color/image_rect_color"/>
  </node>

  <!-- <node pkg="visp_tracker" type="visp_tracker_client" name="visp_tracker_client">
    <param name="camera_prefix" value="/left_camera/color" />

    <param name="model_path" value="file://$(find prl_ur5_calibration)/models" />
    <param name="model_name" value="pattern_QR" />

    <remap from="/left_camera/color/image_rect" to="/left_camera/color/image_rect_color"/>
  </node> -->

  <node pkg="visp_tracker" type="visp_tracker_viewer" name="visp_tracker_viewer">
    <param name="frame_size" value="0.2" />
    <param name="tracker_name" value="tracker_mbt" />
    <remap from="/left_camera/color/image_rect" to="/left_camera/color/image_rect_color"/>
  </node>

</launch>
